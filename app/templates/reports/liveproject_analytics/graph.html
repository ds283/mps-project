{% extends "reports/liveproject_analytics/nav.html" %}

{% macro plot_js(script, div) %}
    {% if div and script %}
        {{ script|safe }}
    {% endif %}
{% endmacro %}

{% macro plot_div(script, div) %}
    <div class="row">
        <div class="col-1"></div>
        <div class="col-10">
            {% if div and script %}
                {{ div|safe }}
            {% else %}
                <span class="badge badge-warning">Insufficient data to generate plot</span>
            {% endif %}
        </div>
        <div class="col-1"></div>
    </div>
{% endmacro %}

{% block scripts %}
    {{ super() }}

    {{ plot_js(rank_script, rank_div) }}
    {{ plot_js(score_script, score_div) }}
{% endblock %}

{% block graphblock %}
    <div class="card m-3 card-body">
        {{ plot_div(rank_script, rank_div) }}
        {{ plot_div(score_script, score_div) }}
    </div>
{% endblock %}
